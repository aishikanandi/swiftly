"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[244],{6244:(M,l,s)=>{s.r(l),s.d(l,{AdminModule:()=>f});var d=s(177),p=s(8498),r=s(9417),t=s(7705),g=s(6395),_=s(6731);function C(i,m){if(1&i){const n=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"form",11),t.bIt("ngSubmit",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.adminUpdate(o.selectedAdmin._id))}),t.j41(3,"div",4)(4,"label",12),t.EFF(5,"Name"),t.k0s(),t.j41(6,"input",13),t.bIt("ngModelChange",function(o){t.eBV(n);const a=t.XpG();return t.Njj(a.selectedAdmin.adminName=o)}),t.k0s()(),t.j41(7,"div",4)(8,"label",12),t.EFF(9,"Email"),t.k0s(),t.j41(10,"input",14),t.bIt("ngModelChange",function(o){t.eBV(n);const a=t.XpG();return t.Njj(a.selectedAdmin.email=o)}),t.k0s()(),t.j41(11,"div",4)(12,"label",12),t.EFF(13,"Password"),t.k0s(),t.j41(14,"input",15),t.bIt("ngModelChange",function(o){t.eBV(n);const a=t.XpG();return t.Njj(a.selectedAdmin.password=o)}),t.k0s()(),t.j41(15,"div",16)(16,"button",17),t.nrm(17,"i",18),t.k0s(),t.j41(18,"button",19),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.updateCancel())}),t.nrm(19,"i",20),t.k0s()()()()()}if(2&i){const n=t.XpG();t.R7$(2),t.Y8G("formGroup",n.adminUpdateForm),t.R7$(4),t.Y8G("ngModel",n.selectedAdmin.adminName),t.R7$(4),t.Y8G("ngModel",n.selectedAdmin.email),t.R7$(4),t.Y8G("ngModel",n.selectedAdmin.password)}}function u(i,m){if(1&i){const n=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"button",21),t.bIt("click",function(){const a=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.updateAdminBtn(a._id))}),t.nrm(9,"i",22),t.k0s()(),t.j41(10,"td")(11,"button",23),t.bIt("click",function(){const a=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.deleteAdmin(a._id))}),t.nrm(12,"i",24),t.k0s()()()}if(2&i){const n=m.$implicit;t.R7$(2),t.JRh(n.adminName),t.R7$(2),t.JRh(n.email),t.R7$(2),t.JRh(n.cnfpassword)}}const h=[{path:"",component:(()=>{class i{constructor(n,e,o){this._api=n,this.formBuilder=e,this.authService=o,this.showForm=!1}ngOnInit(){this.fetchUserData(),this.adminUpdateForm=this.formBuilder.group({adminName:"",email:"",password:""})}fetchUserData(){this._api.getuserData().subscribe({next:n=>{this.personDataArray=n.data.map(e=>({_id:e._id,adminName:e.adminName,email:e.email,cnfpassword:e.cnfpassword}))},error:n=>{alert(n)}})}updateAdminBtn(n){this.selectedAdmin=n,this.showForm=!0,this.adminUpdateForm.patchValue({adminName:this.selectedAdmin.adminName,email:this.selectedAdmin.email,password:this.selectedAdmin.password})}adminUpdate(n){this._api.updateUser(n,this.adminUpdateForm.value).subscribe({next:o=>{alert(o.message),this.fetchUserData(),this.showForm=!this.showForm},error:o=>{alert("Failed to update admin")}})}updateCancel(){this.showForm=!this.showForm}deleteAdmin(n){confirm("Are you sure you want to delete this admin?")&&this._api.deleteUser(n).subscribe({next:o=>{alert("Admin Deleted Successfully"),this.fetchUserData()},error:o=>{alert("Failed to delete admin")}})}resetTimer(){this.authService.resetInactivityTimer()}static{this.\u0275fac=function(e){return new(e||i)(t.rXU(g.G),t.rXU(r.ok),t.rXU(_.u))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-admin"]],decls:22,vars:2,consts:[[1,"container-fluid",3,"mousemove"],["class","updateContainer py-4",4,"ngIf"],[1,"parentFormContainer"],["id","formContainer"],[1,"mb-3"],[1,"table-responsive"],[1,"table"],[1,"bg-dark","text-light"],[4,"ngFor","ngForOf"],[1,"updateContainer","py-4"],["id","Container"],[1,"container",3,"formGroup","ngSubmit"],[1,"form-label","d-flex","justify-content-start"],["type","text","formControlName","adminName",1,"form-control",3,"ngModel","ngModelChange"],["type","email","formControlName","email",1,"form-control",3,"ngModel","ngModelChange"],["type","password","formControlName","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-between"],["type","submit","id","adminUpdate",1,"btn","btn-primary","w-25"],[1,"fa-solid","fa-thumbs-up"],["type","button","id","updateCancel",1,"w-25","btn","btn-danger",3,"click"],[1,"fa-solid","fa-thumbs-down"],["id","updatebtn",3,"click"],[1,"fa-solid","fa-pen-to-square"],["id","deletebtn",3,"click"],[1,"fa-solid","fa-trash"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.bIt("mousemove",function(){return o.resetTimer()}),t.DNE(1,C,20,4,"div",1),t.j41(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5,"Admin Panel"),t.k0s(),t.j41(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th"),t.EFF(11,"Name"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Email"),t.k0s(),t.j41(14,"th"),t.EFF(15,"Password"),t.k0s(),t.j41(16,"th"),t.EFF(17,"Update"),t.k0s(),t.j41(18,"th"),t.EFF(19,"Delete"),t.k0s()()(),t.j41(20,"tbody"),t.DNE(21,u,13,3,"tr",8),t.k0s()()()()()()),2&e&&(t.R7$(1),t.Y8G("ngIf",o.showForm),t.R7$(20),t.Y8G("ngForOf",o.personDataArray))},dependencies:[d.Sq,d.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD],styles:[".parentFormContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}#formContainer[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:4px 4px 16px #000;width:90%;max-width:600px;padding:20px;margin:40px}.updateContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin-top:5%}.container[_ngcontent-%COMP%]{border-radius:5px;box-shadow:2px 2px 6px #000;padding:20px;transition:all linear .3s}.container[_ngcontent-%COMP%]:hover{transform:scale(1);transition:all linear .3s;z-index:1;box-shadow:4px 4px 16px #00b3ff}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 360px){.table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 480px){.table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{font-size:14px}}"]})}}return i})(),pathMatch:"full"}];let f=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[d.MD,p.iI.forChild(h),r.YN,r.X1]})}}return i})()}}]);