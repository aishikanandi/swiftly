"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[733],{4733:(Z,g,c)=>{c.r(g),c.d(g,{CreaterideModule:()=>U});var h=c(177),a=c(9417),e=c(7705),f=c(1626);let v=(()=>{class n{constructor(t){this.http=t,this.serverUrl="http://localhost:4000"}getcode(){return this.http.get(`${this.serverUrl}/countrydata`)}getUserByNumber(t){return this.http.post(`${this.serverUrl}/userdata/number`,t)}addRide(t){return this.http.post(`${this.serverUrl}/addride`,t)}getServiceType(t){return console.log("This is  CITY ID =======",t),this.http.get(`${this.serverUrl}/vehicle/${t}`)}static{this.\u0275fac=function(i){return new(i||n)(e.KVO(f.Qq))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var y=c(5794),C=c(7842),b=c(2007),T=c(6731),_=c(8498),p=c(5596);const F=["startInput"],I=["waypointInput"],E=["endInput"],k=["directionBtn"];function D(n,l){1&n&&(e.j41(0,"div",33),e.EFF(1," Please enter starting point! "),e.k0s())}function j(n,l){if(1&n&&(e.j41(0,"div",31),e.DNE(1,D,2,0,"div",32),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.travelForm.controls.start.errors.required)}}function N(n,l){if(1&n&&(e.j41(0,"div",29),e.DNE(1,j,2,1,"div",30),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.travelForm.controls.start.errors)}}function x(n,l){1&n&&(e.j41(0,"div",34),e.EFF(1," Service Not Available! "),e.k0s())}function R(n,l){1&n&&(e.j41(0,"div",37),e.EFF(1," Please enter destination! "),e.k0s())}function M(n,l){if(1&n&&(e.j41(0,"div"),e.DNE(1,R,2,0,"div",36),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.travelForm.controls.end.errors.required)}}function O(n,l){if(1&n&&(e.j41(0,"div",29),e.DNE(1,M,2,1,"div",35),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.travelForm.controls.end.errors)}}function w(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",38),e.nrm(1,"input",39),e.j41(2,"button",40),e.bIt("click",function(){const s=e.eBV(t).index,r=e.XpG();return e.Njj(r.removeWaypoint(s))}),e.EFF(3,"Remove"),e.k0s()()}if(2&n){const t=l.$implicit;e.R7$(1),e.Y8G("value",t)}}function S(n,l){if(1&n&&(e.j41(0,"option",77),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&n){const t=l.$implicit;e.FS9("value",t.service.vehicleName),e.R7$(1),e.JRh(e.bMT(2,2,t.service.vehicleName))}}function G(n,l){if(1&n&&(e.j41(0,"option",77),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.FS9("value",t),e.R7$(1),e.JRh(t)}}function V(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",47)(1,"form",4),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onBookRide())}),e.j41(2,"div",48)(3,"div",49)(4,"div",50)(5,"label",51),e.EFF(6,"Select Service Type"),e.k0s(),e.j41(7,"select",52,53),e.bIt("change",function(){e.eBV(t);const o=e.sdS(8),s=e.XpG(2);return e.Njj(s.onSelectServiceType(o.value))}),e.DNE(9,S,3,4,"option",54),e.k0s()(),e.j41(10,"div",50)(11,"label",55),e.EFF(12,"Number of vehicles"),e.k0s(),e.j41(13,"select",56,57),e.bIt("change",function(){e.eBV(t);const o=e.sdS(14),s=e.XpG(2);return e.Njj(s.onSelectServiceNum(o.value))}),e.DNE(15,G,2,2,"option",54),e.k0s()()()(),e.j41(16,"div",48)(17,"p",58),e.EFF(18,"Select Payment Option"),e.k0s(),e.j41(19,"div",59),e.nrm(20,"input",60),e.j41(21,"label",61),e.EFF(22,"Cash"),e.k0s()(),e.j41(23,"div",62),e.nrm(24,"input",63),e.j41(25,"label",64),e.EFF(26,"Card"),e.k0s()()(),e.j41(27,"div",48)(28,"p",58),e.EFF(29,"Select Ride Time"),e.k0s(),e.j41(30,"div",59)(31,"input",65),e.bIt("change",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.handleRadioChange())})("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectedOption=o)}),e.k0s(),e.j41(32,"label",66),e.EFF(33,"Book Now"),e.k0s()(),e.j41(34,"div",62)(35,"input",67),e.bIt("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectedOption=o)})("change",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.handleRadioChange())}),e.k0s(),e.j41(36,"label",68),e.EFF(37,"Schedule"),e.k0s()()(),e.j41(38,"div",48)(39,"div",69)(40,"div",70)(41,"label",71),e.EFF(42,"Select Date"),e.k0s(),e.j41(43,"input",72),e.bIt("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectedDate=o)})("change",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onselecteddate())}),e.k0s()(),e.j41(44,"div",70)(45,"label",73),e.EFF(46,"Select Time"),e.k0s(),e.j41(47,"input",74),e.bIt("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectedTime=o)})("input",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onselectedtime())}),e.k0s()()()(),e.j41(48,"div",75)(49,"button",76),e.EFF(50,"Confirm ride"),e.k0s()()()()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("formGroup",t.rideForm),e.R7$(8),e.Y8G("ngForOf",t.vehiclesPricing),e.R7$(6),e.Y8G("ngForOf",t.numbersArray),e.R7$(16),e.Y8G("ngModel",t.selectedOption),e.R7$(4),e.Y8G("ngModel",t.selectedOption),e.R7$(8),e.FS9("min",t.minDate),e.Y8G("ngModel",t.selectedDate),e.BMQ("disabled","bookNow"===t.selectedOption||null),e.R7$(4),e.Y8G("ngModel",t.selectedTime)("min",t.minTime),e.BMQ("disabled","bookNow"===t.selectedOption||null)}}function A(n,l){if(1&n&&(e.j41(0,"a",44)(1,"strong"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&n){const t=l.$implicit;e.R7$(2),e.SpI("Estimate Fare for ",t.service.vehicleName,":"),e.R7$(2),e.SpI("\u20b9 ",t.estimateFare,"")}}function P(n,l){if(1&n&&(e.qex(0),e.DNE(1,A,5,2,"a",78),e.bVm()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.vehiclesPricing)}}function $(n,l){1&n&&(e.j41(0,"a",79),e.EFF(1," No service available right now! "),e.k0s())}function B(n,l){if(1&n&&(e.j41(0,"mat-card",41),e.DNE(1,V,51,11,"div",42),e.j41(2,"div",43)(3,"a",44)(4,"strong"),e.EFF(5,"Estimate Distance:"),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"a",44)(9,"strong"),e.EFF(10,"Estimate Time:"),e.k0s(),e.j41(11,"span"),e.EFF(12),e.k0s()(),e.DNE(13,P,2,1,"ng-container",45),e.DNE(14,$,2,0,"ng-template",null,46,e.C5r),e.k0s()()),2&n){const t=e.sdS(15),i=e.XpG();e.R7$(1),e.Y8G("ngIf",0!==i.vehiclesPricing.length),e.R7$(6),e.SpI("",i.totalDistance," Km"),e.R7$(5),e.Lme("",i.totalHours," hours ",i.totalMinutes," minutes"),e.R7$(1),e.Y8G("ngIf",i.vehiclesPricing.length>0)("ngIfElse",t)}}let Y=(()=>{class n{constructor(t,i,o,s,r,d,u,m,W){this.http=t,this.fb=i,this._createride=o,this.toaster=s,this._city=r,this.cdr=d,this._setting=u,this.authService=m,this.router=W,this.countryCodes=[],this.waypointsArray=[],this.cities=[],this.cordinatesArray=[],this.isInZone=!0,this.polygonsArray=[],this.polygonObjects=[],this.isRoute=!1,this.vehiclesPricing=[],this.invalidToaster=!1,this.userForm=this.fb.group({countrycode:["+91",a.k0.required],userphone:["",[a.k0.required,a.k0.pattern("[0-9]*"),a.k0.minLength(10)]]}),this.travelForm=this.fb.group({start:["",a.k0.required],end:["",a.k0.required]}),this.rideForm=this.fb.group({serviceType:["",a.k0.required],paymentOption:["",a.k0.required],rideTime:["",a.k0.required]}),this.numericInputValue="",this.isNext=!0,this.isUser=!1,this.stopsCounter=0,this.selectedOption="",this.estimateTime="",this.page=1,this.citylimit=500,this.isDateTimeValid=!0,this.numbersArray=[],this.userDetails=JSON.parse(localStorage.getItem("userDetails")||"")}ngOnInit(){const t=new Date;this.selectedDate=this.formatDate(t),this.selectedTime=this.formatTime(t),this.getcountryCode(),this.getNumberOfStops(),this.initMap(),this.getUserDetails(),this.numbersArray=Array.from({length:20},(i,o)=>o+1)}initMap(){navigator.geolocation.getCurrentPosition(t=>{let i=t.coords;const o={lat:i.latitude,lng:i.longitude};this.map=new google.maps.Map(document.getElementById("map"),{zoom:7,center:o})}),this.directionsService=new google.maps.DirectionsService,this.directionsRenderer=new google.maps.DirectionsRenderer,this.directionsRenderer.setMap(this.map)}getcountryCode(){this._createride.getcode().subscribe({next:t=>{t.countrydata.forEach(o=>{this.countryCodes.push(o.countryCode)}),this.countryCodes.sort()},error:t=>{console.log(t)}})}getNumberOfStops(){this._setting.get_setting_data().subscribe({next:t=>{this.stops=t[0].stop},error:t=>{this.toaster.error(t.message)}})}filterPhone(t){let i=t.target.value;i=i.replace(/\D/g,""),i.length>10&&(i=i.slice(0,10)),this.userForm.patchValue({userphone:i}),t.target.value=i}getUserDetails(){this.isNext=!0,this.userArray=this.userDetails,this.isUser=!0,this.polygonsArray=[],this._city.getcity(this.page,this.citylimit).subscribe({next:t=>{console.log("This is Available Cities in DB for Service============",t),this.cities=t.citydata,this.cities.forEach(i=>{this.polygonsArray.push(i.coordinates)}),console.log("City's Polygons data:  ",this.polygonsArray),this.polygonObjects=this.polygonsArray.map(function(i){return new google.maps.Polygon({paths:i})})},error:t=>{console.log(t),this.toaster.error(t.status,t.message)}})}addTravelForm(){this.isNext=!1,this.isUser=!1,setTimeout(()=>{console.log("Autocomplete Function Initiated====================Now"),this.initAutocomplete()},200)}initAutocomplete(){let t=document.getElementById("startInput");const i=new google.maps.places.Autocomplete(t);console.log(i);let o=document.getElementById("waypoint");new google.maps.places.Autocomplete(o);let r=document.getElementById("endInput");new google.maps.places.Autocomplete(r)}startInputChange(){this.rideForm.reset(),this.rideForm.patchValue({serviceType:""}),this.startLocation=this.startInput?.nativeElement.value,this.isInZone=!0,""!=this.startLocation&&this.checkmyLocation()}checkmyLocation(){if(0!=this.polygonObjects?.length){const t=new google.maps.Geocoder;console.log(t),setTimeout(()=>{let i=document.getElementById("startInput");console.log(i.value),t.geocode({address:i.value},(o,s)=>{if("OK"===s){const d=o[0].geometry.location;console.log("This is location=============",d),this.isInZone=!1;for(var r=0;r<this.polygonObjects.length;r++)if(google.maps.geometry.poly.containsLocation(d,this.polygonObjects[r])){this.cityIndex=r,console.log("INDEX VALUE OF CITY[i]============",this.cityIndex),this.isInZone=!0;break}console.log("Wheather CITY is in Zone or NOT=============",this.isInZone),console.log("CITY INDEX AFTER LOOP==============",this.cityIndex),this.isInZone?(this.endInput&&(this.endInput.nativeElement.disabled=!1,this.waypointInput.nativeElement.disabled=!1,this.directionBtn.nativeElement.disabled=!1),console.log("Service Available"),this.toaster.success("Service is Available in City")):(console.log("Service Not Available"),this.endInput&&(this.endInput.nativeElement.disabled=!0,this.waypointInput.nativeElement.disabled=!0,this.directionBtn.nativeElement.disabled=!0),this.toaster.error("Service is Not Available in City"))}else console.log("Select location from auto suggestion",s),this.toaster.info("Select Location from Auto Suggestion")})},200)}}addWaypoint(){const t=this.waypointInput?.nativeElement.value;t&&(this.stopsCounter++,this.waypointsArray.push(t),this.waypointInput.nativeElement.value="")}removeWaypoint(t){this.stopsCounter--,this.waypointsArray.splice(t,1)}calculateRoute(){this.startLocation=this.startInput?.nativeElement.value,this.endLocation=this.endInput?.nativeElement.value,this.invalidToaster=!1,this.rideForm.reset(),this.rideForm.patchValue({serviceType:""}),console.log("STARTING LOCATION:   ",this.startLocation),console.log("DESTINATION LOCATION:   ",this.endLocation),console.log("MY WAY POINT ARRAY===================",this.waypointsArray),this.directionsService?.route({origin:this.startLocation,destination:this.endLocation,waypoints:this.waypointsArray.map(t=>({location:t})),optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING},(t,i)=>{"OK"===i?(this.drawRoute(t),this.isRoute=!0):"ZERO_RESULTS"===i?(this.isRoute=!1,alert("No route found for given locations!"),console.log("No route found for given locations! "+i)):(this.isRoute=!1,alert("Select location from auto suggestion "),console.log("Select location from auto suggestion "+i))})}calculateFare(t,i){let o=+t.minfare,r=+t.baseprice,m=(this.totalDistance-+t.distancebaseprice)*+t.ppudist+r+this.totalTime*+t.pputime;(m<o||m<r)&&(m=o),this.estimateFare=m,this.vehiclesPricing[i].estimateFare=m,console.log("This is SERVICE FEES ==============",this.vehiclesPricing[i].estimateFare),console.log("This is SERVICE FARE ==============",m)}getVehiclePricing(t){console.log("CITY Index Value=========",t);const i=this.cities[t]._id;console.log("CITY ID========",i),console.log("CITY NAME========",this.cities[t].city),this._createride.getServiceType(i).subscribe({next:s=>{console.log(s),this.vehiclesPricing=s.pricingdata,this.vehiclesPricing.forEach((r,d)=>{this.calculateFare(r,d)}),this.cdr.detectChanges(),console.log("Estimated Price Array==================",this.vehiclesPricing)},error:s=>{console.log(s),this.toaster.error(s.message)}})}drawRoute(t){const i=t.routes[0];let o=0;for(let r=0;r<i.legs.length;r++)o+=+i.legs[r].distance.value;let s=0;for(let r=0;r<i.legs.length;r++)s+=+i.legs[r].duration.value;this.totalDistance=+o/1e3,console.log("Total Distance:",this.totalDistance,"km"),this.totalHours=Math.floor(s/3600),this.totalMinutes=Math.round(s%3600/60),console.log("Total Time:",this.totalHours,"hours",this.totalMinutes,"minutes"),this.estimateTime=this.totalHours+" hours "+this.totalMinutes+" minutes ",this.totalTime=+s/60,console.log("Total Minutes============",this.totalTime),this.getVehiclePricing(this.cityIndex),this.directionsRenderer.setMap(null),this.directionsRenderer=new google.maps.DirectionsRenderer({polylineOptions:{strokeColor:"blue",strokeWeight:5}}),this.directionsRenderer.setMap(this.map),this.directionsRenderer.setDirections(t)}onSelectServiceType(t){console.log(t),this.selectedVehicle=this.vehiclesPricing.find(i=>i.service.vehicleName===t),this.selectedVehicle&&(this.selectedVehicle.totalDistance=this.totalDistance,this.selectedVehicle.totalTime=this.totalTime,this.calculateFare(this.selectedVehicle,this.cityIndex),this.cdr.detectChanges())}onSelectServiceNum(t){const i=Number(t);isNaN(i)||i<=0||(this.vehiclesPricing.forEach(o=>{o.fareForOneVehicle||(o.fareForOneVehicle=o.estimateFare),o.estimateFare=o.fareForOneVehicle*i}),this.cdr.detectChanges())}handleRadioChange(){if("bookNow"===this.selectedOption){const t=new Date;this.selectedDate=this.formatDate(t),this.selectedTime=this.formatTime(t),this.isDateTimeValid=!0}else{const t=new Date;this.minDate=this.formatDate(t),this.minTime=this.formatTime(t);const i=new Date(this.selectedDate+"T"+this.selectedTime),o=new Date;i<o&&(setTimeout(()=>{this.selectedDate=this.formatDate(o),this.selectedTime=this.formatTime(o)},0),this.isDateTimeValid=!1),this.isDateTimeValid=i>o,!this.isDateTimeValid&&!this.invalidToaster&&(this.invalidToaster=!this.invalidToaster,this.toaster.info("Please select valid date and time")),console.log("isDateTimeValid=============",this.isDateTimeValid)}}onselecteddate(){console.log(this.selectedDate),console.log("SELECTED DATE==================",this.selectedDate),this.handleRadioChange()}onselectedtime(){console.log("SELECTED TIME==================",this.selectedTime),this.handleRadioChange()}formatDate(t){return`${t.getFullYear()}-${("0"+(t.getMonth()+1)).slice(-2)}-${("0"+t.getDate()).slice(-2)}`}formatTime(t){return`${("0"+t.getHours()).slice(-2)}:${("0"+t.getMinutes()).slice(-2)}`}onBookRide(){this.selectedVehicle.startLocation=this.startLocation,this.selectedVehicle.endLocation=this.endLocation,this.selectedVehicle.waypints=this.waypointsArray,this.rideData={...this.rideForm.value,rideDate:this.selectedDate,time:this.selectedTime,serviceId:this.selectedVehicle.service._id,userId:this.userDetails._id,cityId:this.selectedVehicle.city,startLocation:this.startLocation,endLocation:this.endLocation,wayPoints:this.waypointsArray,totalDistance:this.totalDistance,totalTime:this.totalTime,estimateTime:this.estimateTime,estimateFare:this.selectedVehicle.estimateFare},this._createride.addRide(this.rideData).subscribe({next:t=>{this.toaster.success("Ride booked successfully!"),this.router.navigate(["/app/confirmride"])},error:t=>{console.log(t),this.toaster.error(t.message)}})}close(){this.isNext=!0,this.isRoute=!1,this.invalidToaster=!1,this.directionsRenderer.setMap(null),this.travelForm.reset(),this.removeWaypoint(5)}resetTimer(){this.authService.resetInactivityTimer()}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(f.Qq),e.rXU(a.ok),e.rXU(v),e.rXU(y.tw),e.rXU(C.h),e.rXU(e.gRc),e.rXU(b.q),e.rXU(T.u),e.rXU(_.Ix))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-createride"]],viewQuery:function(i,o){if(1&i&&(e.GBs(F,5),e.GBs(I,5),e.GBs(E,5),e.GBs(k,5)),2&i){let s;e.mGM(s=e.lsd())&&(o.startInput=s.first),e.mGM(s=e.lsd())&&(o.waypointInput=s.first),e.mGM(s=e.lsd())&&(o.endInput=s.first),e.mGM(s=e.lsd())&&(o.directionBtn=s.first)}},decls:44,vars:8,consts:[[1,"main-div"],[1,"left-card"],[1,"mt-4"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"card-title"],[1,"mb-3"],[1,"d-flex","align-items-center","mb-1"],["for","startInput"],["type","text","id","startInput","placeholder","Enter starting point","formControlName","start",1,"form-control",3,"change"],["startInput",""],["class","my-1",4,"ngIf"],["style","color: red; text-align: left;",4,"ngIf"],["for","endInput",1,"form-label"],["type","text","id","endInput","placeholder","Enter destination","formControlName","end",1,"form-control"],["endInput",""],["for","waypoint",1,"form-label"],[1,"d-flex","gap-2"],["type","text","placeholder","Enter Stops","id","waypoint",1,"form-control"],["waypointInput",""],["type","button",1,"btn","add-stops",3,"disabled","click"],["class"," d-flex gap-2 mb-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],["type","reset",1,"btn","btn-danger","mb-2",3,"click"],["type","submit",1,"btn","btn-info","mb-2",3,"disabled"],["directionBtn",""],[1,"right-div"],["id","map"],["class","p-3",4,"ngIf"],[1,"my-1"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],["style","color: red;",4,"ngIf"],[2,"color","red"],[2,"color","red","text-align","left"],[4,"ngIf"],["class","d-flex align-items-center","style","color: red;",4,"ngIf"],[1,"d-flex","align-items-center",2,"color","red"],[1,"d-flex","gap-2","mb-2"],["type"," text","disabled","","id","added-waypoint",1,"form-control",3,"value"],[1,"btn","btn-danger",3,"click"],[1,"p-3"],["class","list-group rounded bg-white",4,"ngIf"],[1,"list-group"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center"],[4,"ngIf","ngIfElse"],["noServiceAvailable",""],[1,"list-group","rounded","bg-white"],[1,"list-group-item","list-group-item-action","bg-light","border","rounded","mb-3","p-3"],[1,"row","mb-2","w-full"],[1,"col-md-6"],["for","serviceType",1,"form-label"],["id","serviceNum","formControlName","serviceType",1,"form-select",3,"change"],["serviceType",""],[3,"value",4,"ngFor","ngForOf"],["for","serviceNum",1,"form-label"],["id","serviceNum","formControlName","serviceNum",1,"form-select",3,"change"],["serviceNum",""],[1,"mb-2"],[1,"form-check","form-check-inline","me-3"],["type","radio","name","paymentOption","id","cashP","value","cash","formControlName","paymentOption",1,"form-check-input"],["for","cashP",1,"form-check-label"],[1,"form-check","form-check-inline"],["type","radio","name","paymentOption","id","cardP","value","card","formControlName","paymentOption",1,"form-check-input"],["for","cardP",1,"form-check-label"],["type","radio","name","rideTime","value","bookNow","formControlName","rideTime",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","bookNow",1,"form-check-label"],["type","radio","name","rideTime","value","schedule","formControlName","rideTime",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","schedule",1,"form-check-label"],[1,"d-flex","gap-4"],[1,"flex-fill"],["for","date",1,"form-label"],["type","date","id","date",1,"form-control",3,"ngModel","min","ngModelChange","change"],["for","time",1,"form-label"],["type","time","id","time",1,"form-control",3,"ngModel","min","ngModelChange","input"],[1,"pb-3",2,"text-align","right"],["type","submit","id","submitBtn",1,"btn","confirm-ride"],[3,"value"],["class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","text-danger","text-center"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3)(5,"form",4),e.bIt("ngSubmit",function(){return o.calculateRoute()}),e.j41(6,"h3",5),e.EFF(7,"Transportation Details"),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"label",8),e.EFF(11,"Start Point"),e.k0s()(),e.j41(12,"input",9,10),e.bIt("change",function(){return o.startInputChange()}),e.k0s(),e.DNE(14,N,2,1,"div",11),e.j41(15,"div"),e.DNE(16,x,2,0,"div",12),e.k0s()(),e.j41(17,"div",6)(18,"div",7)(19,"label",13),e.EFF(20,"Destination"),e.k0s()(),e.nrm(21,"input",14,15),e.DNE(23,O,2,1,"div",11),e.k0s(),e.j41(24,"div",6)(25,"div",7)(26,"label",16),e.EFF(27,"Way point"),e.k0s()(),e.j41(28,"div",17),e.nrm(29,"input",18,19),e.j41(31,"button",20),e.bIt("click",function(){return o.addWaypoint()}),e.EFF(32,"Add"),e.k0s()()(),e.j41(33,"div",6),e.DNE(34,w,4,1,"div",21),e.k0s(),e.j41(35,"div",22)(36,"button",23),e.bIt("click",function(){return o.close()}),e.EFF(37,"Close"),e.k0s(),e.j41(38,"button",24,25),e.EFF(40,"Calculate"),e.k0s()()()()()()(),e.j41(41,"div",26),e.nrm(42,"div",27),e.DNE(43,B,16,6,"mat-card",28),e.k0s()()),2&i){let s,r;e.R7$(5),e.Y8G("formGroup",o.travelForm),e.R7$(9),e.Y8G("ngIf",o.travelForm.controls.start.errors&&(null==(s=o.travelForm.get("start"))?null:s.touched)||(null==(s=o.travelForm.get("start"))?null:s.dirty)),e.R7$(2),e.Y8G("ngIf",!o.isInZone),e.R7$(7),e.Y8G("ngIf",o.travelForm.controls.end.errors&&(null==(r=o.travelForm.get("end"))?null:r.touched)||(null==(r=o.travelForm.get("end"))?null:r.dirty)),e.R7$(8),e.Y8G("disabled",o.stops==o.stopsCounter),e.R7$(3),e.Y8G("ngForOf",o.waypointsArray),e.R7$(4),e.Y8G("disabled",!o.travelForm.valid),e.R7$(5),e.Y8G("ngIf",o.isRoute&&o.isInZone)}},dependencies:[h.Sq,h.bT,p.RN,p.m2,a.qT,a.xH,a.y7,a.me,a.wz,a.Fm,a.BC,a.cb,a.vS,a.j4,a.JD,h.PV],styles:[".main-div[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;padding:0 1em;margin:1em 0}.left-card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin:15px auto}.map-summary[_ngcontent-%COMP%]{margin:15px auto;border:1px solid black;border-radius:15px}#summary-panel[_ngcontent-%COMP%]{padding:10px}#map[_ngcontent-%COMP%]{min-width:200px;height:400px;margin:15px auto;border-radius:5px;box-shadow:0 0 20px #0003}.country-code[_ngcontent-%COMP%]{max-width:80px;margin:6px 6px 6px 0;display:inline-block}.number[_ngcontent-%COMP%]{max-width:300px;display:inline-block;margin:6px 6px 6px 0}.get-details[_ngcontent-%COMP%]{margin-bottom:5px!important;background-color:#00b52d;color:#fff;border:none;font-weight:600}.bookbtn[_ngcontent-%COMP%]{margin-bottom:5px!important;background-color:#00a01b!important;border:none;font-weight:600;color:#fff}.get-details[_ngcontent-%COMP%]:hover{background-color:#e2e2e2}.user-details[_ngcontent-%COMP%]{font-size:18px}p[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.add-stops[_ngcontent-%COMP%]{border:none}input[_ngcontent-%COMP%]:disabled{background-color:#e9ecef}#startInput[_ngcontent-%COMP%]:disabled{background-color:#e9ecef!important}.confirm-ride[_ngcontent-%COMP%]{color:#fff;background-color:#1db837!important;cursor:pointer}@media (width >=380px){.address-group[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}}@media (width >=935px){.main-div[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 2fr;gap:1.3em}.left-card[_ngcontent-%COMP%]{width:auto}}"]})}}return n})();var X=c(5351);const L=[{path:"",component:Y,pathMatch:"full"}];let U=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[h.MD,_.iI.forChild(L),p.Hu,a.YN,a.X1,X.hM]})}}return n})()}}]);